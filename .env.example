# Enterprise RAG Ingestion Pipeline - Environment Configuration
# =============================================================
# Copy this file to .env and customize for your environment

# ===================
# Environment
# ===================
ENVIRONMENT=dev
DEBUG=true
LOG_LEVEL=INFO

# ===================
# PostgreSQL
# ===================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=rag_pipeline
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20
POSTGRES_ECHO=false

# ===================
# Redis
# ===================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_EMBEDDING_CACHE_TTL=86400

# ===================
# S3 / MinIO
# ===================
S3_ENDPOINT_URL=http://localhost:9000
S3_BUCKET_NAME=rag-documents
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_USE_SSL=false

# ===================
# Vector Database (Qdrant)
# ===================
VECTOR_DB_PROVIDER=qdrant
VECTOR_DB_HOST=localhost
VECTOR_DB_PORT=6333
VECTOR_DB_API_KEY=
VECTOR_DB_COLLECTION_NAME=rag_embeddings
VECTOR_DB_GRPC_PORT=6334
VECTOR_DB_PREFER_GRPC=true
VECTOR_DB_DISTANCE_METRIC=cosine

# ===================
# Celery
# ===================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_TIME_LIMIT=3600
CELERY_HEARTBEAT_INTERVAL=30
CELERY_ZOMBIE_THRESHOLD=300

# ===================
# Feature Flags
# ===================
FEATURE_ENABLE_LAYOUT_PARSING=true
FEATURE_ENABLE_IMAGE_PIPELINE=true
FEATURE_ENABLE_LLM_METADATA_ENRICHMENT=true
FEATURE_ENABLE_OCR=true
FEATURE_ENABLE_VISION_CAPTIONING=true
FEATURE_ENABLE_EMBEDDING_CACHE=true
FEATURE_ENABLE_SOFT_DELETE=true

# ===================
# Versioning Policy
# ===================
VERSIONING_SOFT_DELETE_OLD_VERSIONS=true
VERSIONING_MAX_VERSIONS_TO_RETAIN=5
VERSIONING_RETENTION_DAYS=90
VERSIONING_AUTO_CLEANUP_ENABLED=true

# ===================
# Chunking
# ===================
CHUNKING_DEFAULT_CHUNK_SIZE=512
CHUNKING_CHUNK_OVERLAP=50
CHUNKING_MIN_CHUNK_SIZE=100
CHUNKING_RESPECT_SENTENCE_BOUNDARIES=true

# ===================
# API
# ===================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
RATE_LIMIT_REQUESTS=100
MAX_UPLOAD_SIZE_MB=100

# ===================
# Embedding API Keys
# ===================
OPENAI_API_KEY=sk-your-openai-api-key-here
EMBEDDING_API_KEY=sk-your-embedding-api-key-here

# ===================
# Vision Model (for image captioning)
# ===================
VISION_MODEL_API_KEY=sk-your-vision-api-key-here
